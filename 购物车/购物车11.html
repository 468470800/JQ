<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }

        ul li{
            list-style: none;
        }

        .lll-wrapper{
            width: 1200px;
            height: 800px;
            margin: 0 auto;
        }

        .lll-p1{
            width: 1200px;
            height: 50px;
            background: #60baff;
            line-height: 50px;
        }

        .lll-p1>span:nth-of-type(1){
            font-weight: bold;
            font-size: 24px;
            color: red;
            margin-right:10px;
        }

        .lll-p1>span:nth-of-type(2){
            font-size: 18px;
            color: #f1ae00;
            float: right;
            margin-right: 10px;
        }

        .lll-p2{
            width: 1200px;
            height: 40px;
            line-height: 40px;
            background:#EEEEEE;
        }

        .lll-p2>span{
            margin-left: 125px;
            color: #C70F0F;
            font-size: 18px;
        }

        img{
            width: 80px;
            height: 95px;
            margin-top: 2px;
        }

        .lll-main{
            width: 1200px;
            height: 100px;
            border-bottom: 1px solid #f1ae00;
        }

        .lll-main>li{
            width: 170px;
            float: left;
            height: 100px;
            text-align: center;
            line-height: 100px;
        }

        .lll-p3{
            width: 1200px;
            height: 40px;
            line-height: 40px;
            background:#e9bcd6;
        }

        button{
            padding: 2px 2px;
        }

        .lll-p3>span{
            float: right;
            color: #f1ae00;
        }

        .lll-p3>span>strong{
            font-size: 22px;
            color: #C70F0F;
        }



    </style>
</head>
<body>
<div class="lll-wrapper">
    <p class="lll-p1"><span>全部商品</span><span>送至：<select><option value="硅谷">硅谷</option>
        <option value="旧金山">旧金山</option>
    </select></span></p>
    <p class="lll-p2">
        <span><input type="checkbox">全选</span>
        <span>商品</span>
        <span>名称</span>
        <span>价格</span>
        <span>数量</span>
        <span>单价</span>
        <span>操作</span>
    </p>
    <div class="main">
        <ul class="lll-main">
            <li><input type="checkbox"></li>
            <li><img src="img/11.jpg" alt=""></li>
            <li>名品箱包</li>
            <li>888</li>
            <li>
                <button>+</button>
                <input type="text" size="1" value="1">
                <button>-</button></li>
            <li>888</li>
            <li>删除</li>
        </ul>
        <ul class="lll-main">
            <li><input type="checkbox"></li>
            <li><img src="img/22.png" alt=""></li>
            <li>名品箱包</li>
            <li>888</li>
            <li>
                <button>+</button>
                <input type="text" size="1" value="1">
                <button>-</button></li>
            <li>888</li>
            <li>删除</li>
        </ul>
        <ul class="lll-main">
            <li><input type="checkbox"></li>
            <li><img src="img/33.png" alt=""></li>
            <li>名品箱包</li>
            <li>888</li>
            <li>
                <button>+</button>
                <input type="text" size="1" value="1">
                <button>-</button></li>
            <li>888</li>
            <li>删除</li>
        </ul>
        <ul class="lll-main">
            <li><input type="checkbox"></li>
            <li><img src="img/44.png" alt=""></li>
            <li>名品箱包</li>
            <li>888</li>
            <li>
                <button>+</button>
                <input type="text" size="1" value="1">
                <button>-</button></li>
            <li>888</li>
            <li>删除</li>
        </ul>
    </div>
    <p class="lll-p3">
        <input type="checkbox">全选
        <button>删除所选</button>
        <button>清空购物车</button>
        <span>总计<strong>0</strong></span>
    </p>
</div>
</body>
</html>
<script src="js/jquery-3.4.1.js"></script>
<script>
    $("li:contains('删除')").click(function(){
        $(this).parents('ul').remove()
        zj()
    })

    $("button:contains('清空购物车')").click(function(){
        $(".main").empty().remove()
        zj()
    })
    $("button:contains('+')").click(function(){
        var sum = $(this).next().val()-0
        if(sum>=3){
            alert("3")
            return false;
        }
        $(this).next().val(sum+1)-0
        var w = $(this).parents('ul')
        xj(w)
        zj()
    })
    $("button:contains('-')").click(function(){
        var sum = $(this).prev().val()-0
        if(sum<=1){
            alert("最少1")
            return false;
        }
        $(this).prev().val(sum-1)-0
    })
    $(".lll-p2 :checkbox,.lll-p3 :checkbox").click(function(){
       var bool= $(this).prop("checked")
        console.log(bool)
        $(".lll-wrapper :checkbox").prop("checked",bool)
        zj()
    })
    $(".lll-main").click(function(){
        var checkboxNum = $(".lll-main :checkbox").length;
        var checkedNum = $(".lll-main :checked").length;
        if(checkboxNum == checkedNum){
            $(".lll-p3 :checkbox,.lll-p2 :checkbox").prop("checked",true)
        }else{
            $(".lll-p3 :checkbox,.lll-p2 :checkbox").prop("checked",false)
        }
           })
    function xj(w){
        var num = w.find('[type=text]').val()-0;
        var jg = w.find('li').eq(3).html()-0;
        var sum = jg*num;
        w.find('li').eq(5).html(sum)
    }
    function zj(){
        var sum =0
        $(".lll-main input:checked").each(function(index,element){
            var xj = $(element).parent('li').nextAll().eq(4).html()-0;
            sum = sum+xj;
            console.log(sum)
        })
        $(".lll-p3 span strong").html(sum)
    }
    zj()
</script>